{% extends 'base.html' %}
{% block title %}
{{ series.title }}
{% endblock %}
{% block head %}
<meta name="description"
    content="{{ (series.title ~ ' (' ~ series.year ~ ')' ~ ' - ' ~ series.description) | striptags | truncate(160, True) }}">
<link rel="canonical" href="{{ canonical_url }}" />
{% endblock %}
{% block body %}
<div class="narrow-page medium-vertical-margins center">
    <h1 class="artwork-title">{{ series.title }} <span class="artwork-year">[{{ series.year }}]</span></h1>
    <div>
        {{ series.description | safe }}
    </div>
</div>
<div class="gallery-horizontal-container medium-vertical-margins">
    <div class="gallery-horizontal wide-page" style="--num-tiles: {{ number_of_tiles }}">
        {% for artwork in series.artworks_resolved %}
        {% set image = artwork.images | first %}
        <div class="gallery-horizontal-item-container">
            <a href="/artwork/{{ artwork.id }}/{{ artwork.title | slugify }}"
                class="gallery-horizontal-item hover-darken-container">
                <img src="{{ image.full_size.url }}"
                    srcset="{% for size, image in image.sizes.items() %}{{ image.url }} {{ size }}w,{% endfor %}"
                    alt="{{ artwork.mediaDescription }}" class="hover-darken">
                <span class="blur-text-overlay">{{ artwork.title }}</span>
            </a>
        </div>
        {% endfor %}
    </div>
    <span class="scroll-button previous"></span>
    <span class="scroll-button next"></span>
</div>
<div class="narrow-page center medium-vertical-margins">
    <button id="enquire-button" type="button"
        class="hover-accent text-primary border-accent background-white button-wide">Enquire</button>
</div>
<div id="enquire-form" class="narrow-page center medium-vertical-margins" hidden>
    <form class="bordered" action="/series-enquire/{{ series.id }}" method="POST">
        <div class="medium-vertical-margins">
            <h4 class="small-vertical-margins">Contact information</h4>
            <input id="enquire-name" class="user-input border-accent small-vertical-margins" type="text" name="name"
                placeholder="Name" required autocomplete="name">
            <input id="enquire-email" class="user-input border-accent" type="email" name="email" placeholder="Email" required
                autocomplete="email">
        </div>
        <div class="medium-vertical-margins">
            <textarea class="user-input user-message border-accent" type="textarea" name="message" placeholder="Your message"
                required></textarea>
        </div>
        <div class="medium-vertical-margins">
            <button id="enquire-reset" type="reset"
                class="hover-accent text-primary background-white border-accent button-wide">Cancel</button>
            <button type="submit" class="hover-accent text-primary background-white border-accent button-wide">Submit</button>
        </div>
    </form>
</div>
<script type="text/javascript" src="{{ url_for('static', filename='scroll.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='enquire_form.js') }}"></script>
{% endblock %}